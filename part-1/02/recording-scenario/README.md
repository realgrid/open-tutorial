# 데이터 가져와서 그리드에 표시하기


## Scene 1

안녕하십니까? 리얼그리드 입니다.
이번 영상에서는 REST API 서버에서 JSON 데이터를 가져와서 그리드에 표시해주는 방법에 대해서 알아볼 건데요.
우선은 깃헙에서 realgrid open tutorial 사이트에 접속하셔서, 예제 중에 "JSON 데이터 가져와서 뿌려주기"를 클릭합니다.


## Scene 2

잠시 기다리면 
이렇게 데이터가 그리드에 표시되는 것을 확인할 수가 있습니다.

데이터는 jsonplaceholder라는 Fake JSON 서버에서 가져오고 있습니다. 
테스트를 위해서 직접 서버를 구축하지 않아도 되기 때문에
개발 초기에 사용하기에는 편리한 이점이 있는 사이트 입니다.

그럼 이제부터는 코드를 직접 작성해가면서 설명해드리도록 하겠습니다.
우선 이전 영상에서 실습했던 코드를 불러오도록 하겠습니다.


## Scene 3

지난 번에 다운받은 미니 웹서버 폴더를 여시고요.
index.html을 더블클릭해서 오픈합니다.
앞으로 대부분의 영상은 지금 보시는 코드를 기본 골격으로 해서 진행할 예정입니다.


## Scene 4

서버에서 데이터를 가져오는 부분은 JQuery를 이용할 예정입니다.
따라서 헤더에 jquery를 불러오는 태그를 삽입하도록 하겠습니다.

``` js
<script type="text/javascript" src="/js/jquery-3.4.0.min.js"></script>
```
* script 테그를 헤더 테그 안에 추가하고요
* type은 text/javascriptfh 지정한 뒤
* 폴더 안에 js 폴더에 있는 jquery를 src로 지정해줍니다.

JQuery는 최근 잘 사용하지 않는 추세이긴 하지만,
가장 쉽게 테스트를 할 수 있는 방법이라고 판단해서 선택하였습니다.
Part-2 이후에서는 vue.js와 같은 프레임워크를 이용해서 데이터를 가져오고 수정하는 방법을 사용할 예정입니다.


## Scene 5

데이터가 잘 불러와지는지 먼저 확인해보려고 하는데요.
아래와 같은 코드를 DOMContentLoaded 이벤트 핸들러에 추가하도록 하겠습니다.

``` js
$.getJSON("https://jsonplaceholder.typicode.com/posts", function (data) {
    console.log(data);
});
```
* getJSON 함수를 사용할 거고요.
* 람다 함수의 파라메터에는 가져온 데이터가 필요합니다.
* 이어서 콘솔로 받아온 data를 표시해보겠습니다.


## Scene 6

이 영상에서는 크롬을 기준으로 설명드리겠습니다.
우선 개발자 도구를 오픈합니다.
그리고 콘솔 탭을 선택하시고요. 새로고침을 해보시면 콘솔창에 결과가 나타납니다.

100개의 데이터가 잘 들어 와 있네요.
그중에 하나를 클릭해보면, userId, id, title 세 개의 필드로 구성되어 있는 것을 확인할 수가 있습니다.


## Scene 7

그리드에 데이터를 표시하기 위해서는 provider에 데이터를 채워 넣어야 하는데요.
provider의 fillJsonData 메소드를 사용하시면 됩니다.

파라메터로는 전달받은 데이터와 fillMode 설정이 필요합니다.

fillMode는 set, append, insert 등이 있는데요.
이 영상에서는 기존에 데이터가 있더라도 무시하고 가져온 데이터만 표시되도록 set을 사용하겠습니다.

``` js
$.getJSON("https://jsonplaceholder.typicode.com/posts", function (data) {
    console.log(data);
    provider.fillJsonData(data, { fillMode: "set" });
});
```

자 이제 새로고침을 해서 변화가 있는 지 살펴봅시다.
화면을 보시면 provider에게 데이터를 제공하고 있는데도 그리드에 데이터가 표시되지 않고 있는데요.
그리드에 데이터를 표시하기 위해서는 필드와 컬럼 설정 두 가지를 해주어야 합니다.


## Scene 8

우선 가져온 데이터의 필드를 설정하는 방법에 대해서 설명드리겠습니다.
필수적인 속성만 사용해보겠습니다.

``` js
provider.setFields([
    { fieldName: "id" },
    { fieldName: "title" },
]);
```
fieldName만 지정할 건데요.
필드는 id, title 두 개만 사용하도록 하겠습니다.


## Scene 9

이번에는 컬럼설정을 통해서 컬럼의 표시 방법을 설정하려고 하는데요.
이번에도 필수적인 속성만 사용해보겠습니다.

``` js
gridView.setColumns([
    { name: "id",    fieldName: "id" },
    { name: "title", fieldName: "title" },
]);
```

우선 컬럼의 name 속성이 필요하고요.
해당 컬럼이 provider에서 제공하는 데이터의 어떤 필드에 연결되는지 fieldName읕 통해서 알려줘야 합니다.
컬럼 이름은 필드 이름과 같을 필요는 없습니다.

title 필드에 정리하고요.
새로고침을 해보겠습니다.

보시는 것처럼 그리드에 데이터가 표시되는 것을 확인할 수가 있습니다.


## Scene 10

지금까지 JSON 데이터를 서버로부터 가져와서 그리드에 표시하는 방법에 대해서 알아보았는데요.
XML나 CSV의 포멧을 읽어오는 것도 동일한 방법으로 가능합니다.
이부분에 대해서는 튜로리얼 문서를 확인해주시기 바랍니다.

필드와 컬럼에 대한 더 세밀한 설정들도 가능합니다.
컬럼을 한글로 표시하거나 체크 박스나 차트를 표시하는 등의 기능들은 추후 다시 다뤄보도록 하겠습니다.

자, 여기까지 그리드 리얼그리드였습니다.